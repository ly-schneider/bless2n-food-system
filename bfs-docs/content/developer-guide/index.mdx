---
title: Entwicklerhandbuch
description: Architektur, lokale Entwicklung und Komponenten-Deep-Dives
---

# Repository-Map

- `bfs-web-app`: Next.js App Router; `/app`, Middleware, `hooks/`, `contexts/`, `components/`, `/api` Proxy in `/lib/api.ts`; Better Auth für Authentifizierung.
- `bfs-backend`: Go-Service; Clean Architecture: `internal/{app,config,auth,middleware,model,repository,service,http,payrexx}` und `cmd/backend`.
- `bfs-android-app`: Android App (WebView POS-Shell), SumUp SDK, ESC/POS Druck, Drucker-Discovery.
- `bfs-cloud`: Terraform-Module und Env-Roots; ACR-first, Digest-first Deploys, Container Apps.
- `bfs-docs`: Dokumentations-Site mit Fumadocs.

---

# Lokale Entwicklung

Voraussetzungen:

- Go (1.25+), Node 20+, PNPM, Docker, Make, Android SDK (für POS-App).

Backend:

- `.env.example` nach `.env` kopieren; Support-Services starten:
  - `make docker-up` (PostgreSQL, Mailpit), danach `make dev` (Air Live-Reload).
- API Base: `http://localhost:8080`; Mailpit UI: `http://localhost:8025`.

Details zur Backend-Architektur und den einzelnen Schichten: [Backend](/entwicklerhandbuch/backend).

Web App:

- `NEXT_PUBLIC_API_BASE_URL=http://localhost:8080`, `BETTER_AUTH_SECRET` und `DATABASE_URL` setzen.
- `pnpm install && pnpm dev` in `bfs-web-app`.
- Alle API-Calls gehen über gleich-origin `/api` mit CSRF-Cookie für mutierende Requests.

Android POS:

- In Dev-Builds ist `POS_URL` standardmässig `http://127.0.0.1:3000/pos`; eigene URL via `-PposUrl`.
- SumUp Affiliate Key optional in Dev; für Release erforderlich (`SUMUP_AFFILIATE_KEY`).

Cloud (optional):

- `bfs-cloud/envs/staging`: `terraform init && terraform apply` mit lokalem Backend oder via Terraform Cloud.
