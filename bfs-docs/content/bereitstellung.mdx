---
title: Bereitstellung
description: Deployment-Prozess, Umgebungen und was bei Problemen zu tun ist
---

# Bereitstellung (Deployment)

Die Bereitstellung des Bless2n Food Systems erfolgt automatisch über GitHub Actions. Änderungen am Code durchlaufen eine Pipeline aus Tests, Build und Deployment.

---

# Umgebungen

| Umgebung | URL | Branch |
|---|---|---|
| Staging | `staging.food.blessthun.ch` | `staging` |
| Production | `food.blessthun.ch` | `production` |

Staging dient zum Testen neuer Funktionen. Production ist die Live-Umgebung für Endbenutzer.

---

# Deployment-Prozess

<Steps>
### Code-Änderung

Ein Entwickler erstellt einen Pull Request mit den Änderungen.

### CI-Pipeline

Tests, Linting und Sicherheitsscans laufen automatisch. Alle Checks müssen bestehen.

### Docker-Build

Nach Merge werden Docker-Images für Frontend und Backend gebaut und in die Container Registry (GHCR) gepusht.

### Datenbank-Migration

Flyway führt ausstehende Schema-Migrationen gegen die Zieldatenbank aus.

### Terraform-Deployment

Terraform aktualisiert die Container Apps mit den neuen Image-Versionen.
</Steps>

---

# Wann wird bereitgestellt?

- Staging: Automatisch bei Merge in den `staging`-Branch.
- Production: Automatisch bei Merge in den `production`-Branch oder manuell via Workflow Dispatch.

---

# Bei Problemen

| Situation | Massnahme |
|---|---|
| Seite nicht erreichbar | Prüfen, ob Container Apps laufen (Azure Portal oder Logs). |
| Fehler nach Deployment | Letzten Commit prüfen. Ggf. Rollback durch Redeployment einer früheren Version. |
| Datenbank-Fehler | Flyway-Migrationen prüfen. Verbindung zur Datenbank sicherstellen. |

Für detaillierte Anleitungen siehe die [Runbooks](/infrastruktur/runbooks).
