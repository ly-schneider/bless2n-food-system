# .env.example
# Copy to `.env` and fill in real values. This file holds BOTH config & secrets.

# -- DATABASE (MongoDB) --
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=change-me-strong
MONGO_PORT=27017
MONGO_DATABASE=bless2n_food_system

# Container-to-container URI (service name "mongo")
MONGO_URI_DOCKER=mongodb://admin:change-me-strong@mongo:27017/?authSource=admin

# Host-to-container URI (when you run backend via AIR on your host)
MONGO_URI_LOCAL=mongodb://admin:change-me-strong@localhost:27017/?authSource=admin

# Runtime URI (auto-selected by Makefile based on context)
MONGO_URI=${MONGO_URI_LOCAL}

# -- MONGO-EXPRESS UI AUTH --
MONGOEXPRESS_BASIC_USER=me-admin
MONGOEXPRESS_BASIC_PASSWORD=also-change-me

# -- SMTP --
# Container-to-container SMTP (service name "mailpit")
SMTP_HOST_DOCKER=mailpit
SMTP_PORT_DOCKER=1025

# Host-to-container SMTP (when you run backend via AIR on your host)
SMTP_HOST_LOCAL=localhost
SMTP_PORT_LOCAL=1025

# Runtime SMTP settings (auto-selected by Makefile based on context)
SMTP_HOST=${SMTP_HOST_LOCAL}
SMTP_PORT=${SMTP_PORT_LOCAL}

# Common SMTP settings
SMTP_USERNAME=dev
SMTP_PASSWORD=dev
SMTP_FROM=no-reply@localhost
SMTP_TLS_POLICY=none

# -- APPLICATION --
APP_ENV=dev
APP_PORT=8080
JWT_ISSUER=http://localhost:8080 # e.g. https://food.blessthun.ch
PUBLIC_BASE_URL=http://localhost:3000 # Frontend base URL for redirect (bfs-web-app)
JWT_PRIV_PEM_PATH=./secrets/dev/ed25519.pem
JWT_PUB_PEM_PATH=./secrets/dev/ed25519.pub.pem

# -- LOGGER --
LOG_LEVEL=info
LOG_DEVELOPMENT=true

# -- SECURITY --
SECURITY_ENABLE_HSTS=false # true for HTTPS connections
SECURITY_ENABLE_CSP=true
SECURITY_TRUSTED_ORIGINS=http://localhost:3000

# Stripe configuration (required for TWINT Payment Intents)
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# -- DEVELOPMENT/SEEDING (Optional) --
# Used by development seeding scripts
FAKER_SEED=12345 # Optional: for deterministic fake data generation
