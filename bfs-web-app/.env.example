# Environment Configuration Template
# Copy this file to .env.local for development

# ================================
# CORE APPLICATION SETTINGS
# ================================

# Node environment
NODE_ENV=development

# Application URLs
NEXT_PUBLIC_APP_URL=http://localhost:3000
# Backend API (Go service) - separate from frontend API routes
NEXT_PUBLIC_API_BASE_URL=http://localhost:8080

# Production subdomain setup:
# NEXT_PUBLIC_APP_URL=https://food.bless2n.ch
# NEXT_PUBLIC_API_BASE_URL=https://api.food.bless2n.ch

# ================================
# AUTHENTICATION & SECURITY
# ================================

# JWT secret for session management (generate with: openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Session configuration
SESSION_DURATION=604800
BCRYPT_ROUNDS=12

# Rate limiting
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_AUTH_WINDOW=900000

# ================================
# DATABASE CONFIGURATION
# ================================

# PostgreSQL connection
DATABASE_URL=postgresql://username:password@localhost:5432/bless2n_food_dev

# Redis for caching and sessions (optional, falls back to memory)
REDIS_URL=redis://localhost:6379

# Database connection pool
DB_POOL_MIN=5
DB_POOL_MAX=20

# ================================
# EXTERNAL SERVICES
# ================================

# Email service (SendGrid, Resend, etc.)
EMAIL_SERVICE_PROVIDER=sendgrid
EMAIL_API_KEY=your-email-service-api-key
EMAIL_FROM_ADDRESS=noreply@bless2nfood.com
EMAIL_FROM_NAME=Bless2n Food System

# SMS service (Twilio, etc.)
SMS_SERVICE_PROVIDER=twilio
SMS_ACCOUNT_SID=your-twilio-account-sid
SMS_AUTH_TOKEN=your-twilio-auth-token
SMS_FROM_NUMBER=+1234567890

# Payment processing (Stripe, Square, etc.)
PAYMENT_PROVIDER=stripe
PAYMENT_PUBLIC_KEY=pk_test_your_stripe_public_key
PAYMENT_SECRET_KEY=sk_test_your_stripe_secret_key
PAYMENT_WEBHOOK_SECRET=whsec_your_webhook_secret

# File storage (AWS S3, Cloudinary, etc.)
STORAGE_PROVIDER=s3
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=bless2n-food-assets

# ================================
# REAL-TIME FEATURES
# ================================

# WebSocket/Server-Sent Events
ENABLE_WEBSOCKETS=true
WEBSOCKET_PORT=3001

# Push notifications
PUSH_NOTIFICATION_PROVIDER=firebase
FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com

# ================================
# MONITORING & OBSERVABILITY
# ================================

# Application monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Analytics
NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Performance monitoring
ENABLE_OTEL=true
OTEL_SERVICE_NAME=bless2n-food-web
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# ================================
# SECURITY HEADERS & CSP
# ================================

# Content Security Policy
CSP_REPORT_ONLY=true
CSP_REPORT_URI=/api/security/csp-report

# CORS settings - frontend domains that can access the API
CORS_ORIGIN=http://localhost:3000,https://food.bless2n.ch
CORS_CREDENTIALS=true

# ================================
# WEBVIEW SPECIFIC SETTINGS
# ================================

# Android WebView debugging (development only)
ALLOW_WEBVIEW_DEBUGGING=true

# WebView-specific CSP overrides
WEBVIEW_ALLOW_UNSAFE_INLINE=true
WEBVIEW_ALLOW_UNSAFE_EVAL=false

# ================================
# FEATURE FLAGS
# ================================

# Enable/disable features
FEATURE_ONLINE_ORDERING=true
FEATURE_DELIVERY=true
FEATURE_LOYALTY_PROGRAM=false
FEATURE_REAL_TIME_TRACKING=true
FEATURE_VOICE_ORDERING=false

# A/B testing
AB_TEST_CHECKOUT_FLOW=variant_a
AB_TEST_MENU_LAYOUT=variant_b

# ================================
# DEVELOPMENT SETTINGS
# ================================

# Debug settings
DEBUG_SQL_QUERIES=false
DEBUG_AUTH_FLOWS=false
LOG_LEVEL=info

# Development tools
ENABLE_STORYBOOK=true
ENABLE_BUNDLE_ANALYZER=false

# Mock services (disable external API calls)
MOCK_PAYMENT_SERVICE=true
MOCK_EMAIL_SERVICE=true
MOCK_SMS_SERVICE=true

# ================================
# PRODUCTION OVERRIDES
# ================================
# These will be overridden in production environments

# Security (production values)
# JWT_SECRET=production-secret-from-secrets-manager
# SESSION_SECURE_COOKIES=true
# FORCE_HTTPS=true

# Database (production values)
# DATABASE_URL=postgresql://prod_user:prod_pass@prod_host:5432/bless2n_food_prod
# DB_SSL_MODE=require

# External services (production keys)
# EMAIL_API_KEY=production-email-key
# PAYMENT_SECRET_KEY=sk_live_production_key
# AWS_ACCESS_KEY_ID=production-aws-key